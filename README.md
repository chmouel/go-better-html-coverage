# go-better-html-coverage

![Go](https://img.shields.io/badge/go-1.25%2B-blue)
![Coverage](https://img.shields.io/badge/Coverage-70.6%25-brightgreen)

A better HTML Go Coverage - Single-file HTML coverage reports for Go.

<img src="./.github/screenshots/better-html-go-coverage.png" width="800"/>

## Features

- Single self-contained HTML file
- File tree with search (Ctrl+P)
- In-file search with highlighting (Ctrl+F)
- Syntax highlighting for Go code (via CDN)
- Dark/light theme toggle
- Keyboard shortcuts (press ? for help)
- Auto-opens in browser

## Install

### Homebrew (macOS)

```shell
brew tap chmouel/go-better-html-coverage https://github.com/chmouel/go-better-html-coverage
brew install go-better-html-coverage --cask
```

#### macOS Gatekeeper

macOS quarantines binaries downloaded from the internet. On first run you may
see "Apple could not verify go-better-html-coverage". To resolve this:

**Option 1:** Allow via System Settings

1. Open System Settings > Privacy & Security
2. Click "Open Anyway" next to the go-better-html-coverage warning

**Option 2:** Remove the quarantine attribute

```bash
xattr -d com.apple.quarantine /opt/homebrew/bin/go-better-html-coverage
```

### [Arch](https://aur.archlinux.org/packages/go-better-html-coverage-bin)

```shell
yay -S go-better-html-coverage-bin
```

### Manual

```bash
go install github.com/chmouel/go-better-html-coverage@latest
```

## Usage

```bash
go test -coverprofile=coverage.out ./...
go-better-html-coverage -profile coverage.out -o coverage.html
```

## Flags

Use `-profile` to specify the coverage file as generated by `go test -coverprofile`. Specify a output file with `-o`

| Flag | Default | Description |
|------|---------|-------------|
| `-profile` | `coverage.out` | Coverage profile path |
| `-o` | `coverage.html` | Output HTML file |
| `-src` | `.` | Source root directory |
| `-ref` | `""` | Git ref or range to filter coverage |
| `-no-syntax` | `false` | Disable syntax highlighting by default |
| `-n` | `false` | Do not open browser |

## Copyright

[Apache-2.0](./LICENSE)

## Authors

### Chmouel Boudjnah

- Fediverse - <[@chmouel@chmouel.com](https://fosstodon.org/@chmouel)>
- Twitter - <[@chmouel](https://twitter.com/chmouel)>
- Blog  - <[https://blog.chmouel.com](https://blog.chmouel.com)>
